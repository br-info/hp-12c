(function(){var k=this,l=function(a,f){a=a.split(".");var c=k;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var g;a.length&&(g=a.shift());)a.length||void 0===f?c=c[g]&&c[g]!==Object.prototype[g]?c[g]:c[g]={}:c[g]=f};var m=function(a,f){for(var c in a)if(f.call(void 0,a[c],c,a))return!0;return!1};var n=function(a){return m(a,function(a,c){if(c="@"!=c[0]&&null!=a&&""!==a)c=typeof a,c=!("object"==c&&null!=a||"function"==c)||n(a);return c&&a!==[]})},p=function(a,f){n(a)&&f.push(a)},q=function(a){for(var f={"@type":"root",tetris:{"@type":"Creative",customInvites:{"@type":"CustomInvites","160x600":a("tetris-customInvites-160x600"),"300x250":a("tetris-customInvites-300x250"),"320x50":a("tetris-customInvites-320x50"),"728x90":a("tetris-customInvites-728x90"),"120x600":a("tetris-customInvites-120x600"),
"200x200":a("tetris-customInvites-200x200"),"250x250":a("tetris-customInvites-250x250"),"300x600":a("tetris-customInvites-300x600"),"320x100":a("tetris-customInvites-320x100"),"336x280":a("tetris-customInvites-336x280"),"468x60":a("tetris-customInvites-468x60"),"580x400":a("tetris-customInvites-580x400"),"970x90":a("tetris-customInvites-970x90"),"970x250":a("tetris-customInvites-970x250")},customHeaders:{"@type":"CustomHeaders","350x75":a("tetris-customHeaders-350x75"),"900x125":a("tetris-customHeaders-900x125"),
"1200x150":a("tetris-customHeaders-1200x150")},common:{"@type":"Common",logo:a("tetris-common-logo"),demoId:a("tetris-common-demoId"),theme:a("tetris-common-theme"),fontFamily:a("tetris-common-fontFamily")||a("tetris-common-googleFontName"),fontStyle:a("tetris-common-fontStyle"),fontWeight:a("tetris-common-fontWeight"),accentColor:a("tetris-common-accentColor").replace(/^0x/,"#"),backgroundColor:a("tetris-common-backgroundColor").replace(/^0x/,"#"),backgroundFadeOpacity:parseFloat(a("tetris-common-backgroundFadeOpacity")),
bordered:!0,logoHref:a("tetris-common-logoHref"),fontLockerFontName:a("tetris-common-fontLocker-fontName"),captions:[]},assets:{"@type":"Assets",cards:[]}}},c=f.tetris.common.captions,g=f.tetris.assets.cards,h=0;10>h;h++){p({"@type":"Message",text:a("tetris-common-caption"+h+"Message-text")},c);p({"@type":"Cta",text:a("tetris-common-caption"+h+"Cta-text"),href:a("tetris-common-caption"+h+"Cta-href")},c);var b=a("tetris-assets-card"+h+"Video-videoUrl");p({"@type":"VideoAsset",videoId:(/(?:video_id|v)=([a-zA-Z0-9_-]{11})/.exec(b)||
["",""])[1],videoUrl:b,image:a("tetris-assets-card"+h+"Video-image")},g);var d=[],e="tetris-assets-card"+h+"ImageGallery";for(b=0;10>b;b++)p({"@type":"ImageGalleryImage",image:a(e+"-image"+b+"-image"),title:a(e+"-image"+b+"-title"),text:a(e+"-image"+b+"-text"),cta:a(e+"-image"+b+"-cta"),href:a(e+"-image"+b+"-href")},d);p({"@type":"ImageGalleryAsset",images:d},g);if("true"==a("tetris-assets-card"+h+"ProductGallery-insert")){d=[];e="tetris-assets-cardXProductGallery";for(b=0;30>b;b++)p({"@type":"ProductGalleryProduct",
image:a(e+"-product"+b+"-imageUrl"),title:a(e+"-product"+b+"-name"),text:a(e+"-product"+b+"-description"),price:a(e+"-product"+b+"-price"),href:a(e+"-product"+b+"-url")},d);p({"@type":"ProductGalleryAsset",products:d},g)}if("true"==a("tetris-assets-card"+h+"Map-insert")){e=[];d=a("LOCATION_EXTENSION_DATA");if("string"==typeof d)try{d=JSON.parse(d)}catch(r){d=[]}d=d||[];for(b=0;b<d.length;b++)p({"@type":"MapLocation",latitude:d[b].latitude,longitude:d[b].longitude,address:d[b].address,name:d[b].name||
"",featureId:d[b].featureId||"",phoneNumber:d[b].phoneNumber||"",mapImageUrlSmall:d[b].mapImageUrlSmall||"",mapImageUrlBig:d[b].mapImageUrlBig||"",exitUrlPlace:d[b].exitUrlPlace||"",exitUrlDirections:d[b].exitUrlDirections||""},e);p({"@type":"MapAsset",locations:e},g)}}return f};l("studioinnovation.layouts.lightbox.tetris.gdnAdapter.translateFromDataObject",function(a){return q(function(f){return null!=a[f]?a[f]:""})});
l("studioinnovation.layouts.lightbox.tetris.gdnAdapter.translateFromEnablerParams",function(){return JSON.stringify(q(function(a){a=k.Enabler.getParameter(a);return null!=a?a:""}))});}).call(this);
